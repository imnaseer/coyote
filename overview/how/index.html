<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <link rel="canonical" href="https://microsoft.github.io/coyote/overview/how/">
    <link rel="shortcut icon" href="/coyote/img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>How does it work - Coyote</title>
    <link href="/coyote/css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="/coyote/css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="/coyote/css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="/coyote/css/highlight.css">
    <link href="../../css/main.css" rel="stylesheet">
    <link href="../../css/player-controls.css" rel="stylesheet">
    <link href="../../css/syntax.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="/coyote/js/jquery-3.2.1.min.js"></script>
    <script src="/coyote/js/bootstrap-3.3.7.min.js"></script>
    <script src="/coyote/js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '/coyote/';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "How does it work?", url: "#_top", children: [
          ]},
        ];

    </script>
    <script src="/coyote/js/base.js"></script>
      <script src="https://www.googletagmanager.com/gtag/js?id=UA-89203408-1"></script>
      <script src="https://consentdeliveryfd.azurefd.net/mscc/lib/v2/wcp-consent.js"></script>
      <script src="../../assets/js/analytics.js"></script>
      <script src="../../assets/js/plugins.js"></script>
      <script src="../../assets/js/animate_trace.js"></script>
      <script src="../../assets/js/animation.js"></script>
      <script src="../../assets/js/progress_bar.js"></script>
      <script src="../../assets/js/trace_model.js"></script>
      <script src="../../assets/js/main.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>

<div id="cookie-banner"></div>


<div class="wrapper wm-page-content">
  <div class="container-fluid">
    <a name="_top"></a>
      

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../publications/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../publications/" class="btn btn-xs btn-link">
        Publications
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../faq/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../faq/" class="btn btn-xs btn-link">
        Frequently asked questions
      </a>
    </div>
    
  </div>

      

      <h2 id="how-does-it-work">How does it work?</h2>
<p>There are two parts to how Coyote works.  First you need to write some code that uses the Coyote
programming model.  This code then provides the metadata needed to enable the <code>coyote test</code> tool to
do its magic.</p>
<p>The <code>coyote test</code> tool takes over the scheduling of a Coyote program. It is able to do this reliably
because it deeply understands the required <a href="../what-is-coyote/">Coyote programming
models</a>. Therefore, the tool knows all concurrent operations
in a test as well as sources of synchronization between them. By controlling the scheduling, the
tool can reliably explore different interleavings of operations. The tool will repeatedly run a
test, each time exercising different scheduling choices. This methodology has proven to be very
effective at providing high coverage, especially <em>concurrency</em> coverage, in a short amount of time.
In a similar way, the tool can also take over other sources of non-determinism, such as the delivery
of timeout messages or injection of failures.</p>
<p>If a bug is found, the <code>coyote test</code> tool reports a <em>reproducible</em> bug trace that provides the
global order of all scheduling decisions and nondeterministic choices made during the execution of a
test. The trace can be replayed reliably over and over again, until the bug is identified. This
makes a bug reported by the tool significantly easier to debug than regular unit-/integration-tests
and logs from production or stress tests, which are typically nondeterministic. No more
<a href="https://en.wikipedia.org/wiki/Heisenbug">Heisenbugs</a>!</p>
<p>The exact mechanism Coyote uses to do this depends on the programming model you have chosen. For the
<code>Task</code> model, the <code>coyote test</code> tool is able to intercept all task creation operations by
overriding various .NET Task methods.  For the <code>Actor</code> model the <code>coyote test</code> tool can control when
messages are dequeued by each Actor and therefore control the overall message scheduling.</p>
<p>The next step is to pick a search strategy that explores all possible interleavings of asynchronous
operations. The <code>coyote test</code> tool uses several state-of-the-art exploration strategies that have
been known to find very deep bugs easily. The tool can run a <em>portfolio</em> of available strategies in
parallel, maximizing chances of revealing bugs. Coyote refers to these exploration strategies as
<em>scheduling strategies</em> and makes it easy to incorporate new strategies, as they come out of
research. New scheduling strategies are being developed in Microsoft Research based on a wealth of
experience gathered from the Microsoft product groups that are using Coyote today. See <a href="../../case-studies/azure-batch-service/">case
studies</a>.</p>
<p>See <a href="../../programming-models/actors/state-machine-demo/">animating state machine demo</a> for a
visual explanation of what Coyote does when it is looking for bugs.</p>
<p>For more information see <a href="../../core/systematic-testing/">Systematic Testing</a> and dealing with
<a href="../../core/non-determinism/">Nondeterminism</a>.</p>

    <br>
      

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../publications/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../publications/" class="btn btn-xs btn-link">
        Publications
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../faq/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../faq/" class="btn btn-xs btn-link">
        Frequently asked questions
      </a>
    </div>
    
  </div>

      <br>
  </div>
</div>

<footer class="wm-page-content">
      <p>
        <a href="https://github.com/microsoft/coyote/edit/master/docs/overview/how.md"><i class="fa fa-github"></i>
Edit on GitHub</a>
      </p>

  <section class="footer-join pt-40 pb-80">
  <div class="container-fluid">
    <div class="row text-center">
      <div class="col-sm-8 col-sm-offset-2">
      </div>
    </div>
    <div class="row">

   </div>
  </div>
</section>
<section class="footer-dark pt-60">
  <div class="container-fluid">
    <div class="row">
      <div class="hidden-xs col-sm-5 col-lg-6">
        <a href="" title="homepage" class="logo-footer">
          <img src="/coyote/assets/images/icon.png" alt="Coyote">
        </a>
      </div>

      <div class="col-sm-2 col-xs-4 footer-dark-col">
        <nav>
          <h4>Coyote</h4>
          <ul class="list-unstyled">

            <li><a href="/coyote/">Home</a></li>

            <li><a href="/coyote/overview/about">About</a></li>

          </ul>
        </nav>
      </div>

      <div class="col-sm-2 col-xs-4 footer-dark-col">
        <nav>
          <h4>Resources</h4>
          <ul class="list-unstyled">

            <li><a href="/coyote/overview/what-is-coyote">Overview</a></li>

            <li><a href="/coyote/get-started/install">Install</a></li>

            <li><a href="/coyote/get-started/using-coyote">Getting started</a></li>

          </ul>
        </nav>
      </div>

      <div class="col-sm-2 col-xs-4 footer-dark-col">
        <nav>
          <h4>Community</h4>
          <ul class="list-unstyled">

            <li><a href="https://github.com/microsoft/coyote" target="_blank">GitHub</a></li>

            <li><a href="https://gitter.im/microsoft/coyote" target="_blank">Gitter</a></li>

          </ul>
        </nav>
      </div>

    </div>

    <div class="row footnote pt-50 pb-20">
      <div class="col-sm-12">
        <hr>
      </div>
      <div class="col-sm-6">
        <ul class="list-unstyled list-inline footnote-copy">

          <li><a href="https://privacy.microsoft.com/en-us/privacystatement/" target="_blank">Privacy</a></li>

          <li><a href="https://www.microsoft.com/en-us/legal/intellectualproperty/copyright/default.aspx" target="_blank">Terms of Use</a></li>

          <li><a href="https://github.com/microsoft/coyote/blob/main/LICENSE" target="_blank">License</a></li>

          <li><a href="javascript:manageCookies()">Cookies</a></li>

        </ul>
      </div>
      <div class="col-sm-6 text-right footnote-copy">
        <ul class="list-unstyled list-inline">
          <li>Â© 2020 Microsoft</li>
          <li><a href="https://www.microsoft.com/" target="_blank"><img class="img-responsive" src="/coyote/assets/images/microsoft-logo.svg?v=3" alt="Microsoft">&nbsp;</a></li>
        </ul>
      </div>
    </div>
  </div>
</section>
</footer>


<script type="text/javascript">
    $(document).ready(function () {
      $('table').each(function () {
        $(this).addClass("table");
        $(this).addClass("table-bordered");
        $(this).addClass("table-striped");
        $(this).addClass("table-condensed");
      });

    });
</script>

</body>
</html>